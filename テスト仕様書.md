# テスト計画（Test Plan）

## 1. 目的・背景
- ビジネス要件と品質目標の整合  
- リリーススケジュールとのマイルストーン設定  
- 品質評価基準（欠陥許容数、カバレッジ目標）の明示

## 2. スコープ
- テスト対象機能一覧（画面、API、バッチなど）  
- 非対象機能とその理由  
- テストレベル：単体／結合／システム／受入

## 3. アプローチ
- テストタイプ  
  - 機能テスト、回帰テスト、セキュリティテスト、パフォーマンステスト  
- 設計技法  
  - 同値クラステスト、境界値分析、状態遷移テスト、ユースケーステスト  
- 自動化範囲  
  - スモークテスト、回帰テスト、データ駆動テスト

## 4. テスト環境・ツール
- HW/SW構成リスト（OS、DB、ミドルウェア、ブラウザ）  
- 仮想環境 vs 実機環境  
- テスト管理：Jira／TestRail／Zephyr  
- 自動化：Selenium／Appium／JMeter

## 5. リソース＆スケジュール
- 役割分担（TM／TL／Tester／Automation Engineer）  
- マイルストーン（設計完了、実行、レポート）  
- バッファ・依存関係の明示

## 6. 入退出基準
- 入り基準：要件凍結、環境立ち上げ完了、テスト設計完了  
- 出口基準：重大欠陥クローズ、カバレッジ95%以上

## 7. リスク＆緩和策
- 要件変更リスク → 仕様凍結ガバナンス  
- 環境障害リスク → バックアップ環境準備  
- 人員不足リスク → クロストレーニング

## 8. 成果物
- テスト計画書、テストケース一式、テスト報告書、欠陥レポート

---

# 不具合分析（Defect Analysis）

## A. 登録〜優先度付与
1. Defect レコード項目  
   - ID／概要／詳細説明  
   - 発生日時／発見者／担当者  
   - 重大度 (D0–D4)／優先度 (P0–P3)／ステータス  
2. 環境情報  
   - OS／DB／ミドルウェア／ブラウザとバージョン

## B. 再現手順・影響範囲
- 環境セットアップ手順  
- 操作手順→期待結果 vs 実結果  
- 影響範囲：上下流モジュール、関連API

## C. 原因分析
- 5 Why  
- Fishbone（人・方法・機器・材料・測定・環境）

## D. 再発防止策
- テストケース追加／レビュー強化  
- 設計書・仕様書の明確化  
- 静的解析ツール導入（SonarQube等）

## E. レポート・管理
- 定期傾向分析（週次／月次レポート）  
- KPTやレビュー会議でナレッジ共有

---

# 単体テスト仕様書（Unit Test Specification）

## 1. テンプレート

| ケースID | モジュール | メソッド／関数 | 前提条件 | 入力値 | 手順 | 期待結果 | 実結果 | 判定 | 備考 |
|---|---|---|---|---|---|---|---|---|---|

## 2. テスト観点
- 正常系：典型値、複数入力型  
- 異常系：Null、空文字、オーバーフロー、例外  
- 境界値：最小値–最大値  
- 例外処理パス：try/catch、カスタム例外

## 3. モック／スタブ
- 外部依存（DB、API、ファイルI/O）の切り離し  
- フレームワーク：Mockito、JMockit、FakeIt  
- スタブ vs モック vs スパイの使い分け

## 4. カバレッジ
- ステートメント／ブランチ／条件／パスカバレッジ  
- ツール：JaCoCo、Cobertura、Istanbul

## 5. 自動化
- CI連携：Jenkins、GitHub Actions  
- レポート形式：JUnit XML、HTML

---

# 結合テスト仕様書（Integration Test Specification）

## 1. テストマトリクス

| テストID | モジュールA–B | インタフェース | 種別 | 正常/異常 | 前提条件 | 手順 | 期待結果 |
|---|---|---|---|---|---|---|---|

## 2. シナリオ設計
- E2Eフロー：画面→API→DB  
- データ駆動：CSV/JSONテストデータ  
- マルチモジュール連携ケース

## 3. インタフェース検証
- リクエスト/レスポンススキーマ  
- 型チェック、必須項目検証

## 4. エラー／例外ハンドリング
- タイムアウト／リトライ／フォールバック  
- ネットワーク障害シミュレーション

## 5. 外部連携
- Service Virtualization  
- 認証／認可トークンフロー

## 6. バージョン互換性
- 後方互換／前方互換テストシナリオ

---

# 次に深掘りしたいトピック
- システムテスト（性能・負荷・セキュリティ）設計  
- テスト自動化フレームワーク（POM、BDD）  
- 品質ゲート（SonarQube／OWASP ZAP連携）  
- 品質指標（MTTR、MTBF、テストカバレッジ）  
- Shift-Left／Shift-Rightテスト戦略  
